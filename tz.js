const fs = require('fs');
const moment = require('moment-timezone');

// Predefined mapping of time zones with latitude and longitude ranges
    const timeZoneNames = [
// Africa
    { name: "Africa/Abidjan", latRange: [4.0, 11.0], lonRange: [-8.6, -2.5] },
    { name: "Africa/Algiers", latRange: [18.0, 37.5], lonRange: [8.0, 12.0] },
    { name: "Africa/Addis_Ababa", latRange: [9.0, 9.0], lonRange: [38.75, 38.75] },
    { name: "Africa/Asmara", latRange: [15.0, 18.0], lonRange: [37.0, 40.0] },
    { name: "Africa/Bamako", latRange: [10.0, 15.0], lonRange: [-11.0, -4.0] },
    { name: "Africa/Bangui", latRange: [2.0, 10.0], lonRange: [14.0, 25.0] },
    { name: "Africa/Banjul", latRange: [13.0, 14.0], lonRange: [-16.0, -13.5] },
    { name: "Africa/Bissau", latRange: [11.5, 12.0], lonRange: [-16.0, -13.5] },
    { name: "Africa/Blantyre", latRange: [-17.5, -10.0], lonRange: [33.0, 36.0] },
    { name: "Africa/Brazzaville", latRange: [-5.0, 3.0], lonRange: [12.0, 16.0] },
    { name: "Africa/Bujumbura", latRange: [-4.0, -2.0], lonRange: [29.0, 30.5] },
    { name: "Africa/Cairo", latRange: [22.0, 31.5], lonRange: [25.0, 35.0] },
    { name: "Africa/Casablanca", latRange: [27.0, 36.0], lonRange: [-9.5, -1.5] },
    { name: "Africa/Ceuta", latRange: [35.9, 36.5], lonRange: [-5.0, -4.6] },
    { name: "Africa/Conakry", latRange: [7.0, 12.5], lonRange: [-15.0, -7.5] },
    { name: "Africa/Dakar", latRange: [12.0, 16.0], lonRange: [-17.0, -14.0] },
    { name: "Africa/Dar_es_Salaam", latRange: [-10.0, -5.0], lonRange: [30.0, 40.0] },
    { name: "Africa/Djibouti", latRange: [10.0, 13.0], lonRange: [41.0, 43.0] },
    { name: "Africa/Douala", latRange: [3.0, 13.0], lonRange: [8.0, 16.0] },
    { name: "Africa/El_Aaiun", latRange: [26.0, 28.0], lonRange: [-14.0, -12.0] },
    { name: "Africa/Freetown", latRange: [6.0, 9.0], lonRange: [-13.5, -10.0] },
    { name: "Africa/Gaborone", latRange: [-27.0, -20.0], lonRange: [20.0, 29.0] },
    { name: "Africa/Harare", latRange: [-22.0, -10.0], lonRange: [25.0, 35.0] },
    { name: "Africa/Johannesburg", latRange: [-35.0, -22.0], lonRange: [16.0, 30.0] },
    { name: "Africa/Juba", latRange: [4.85, 4.85], lonRange: [31.6, 31.6] },
    { name: "Africa/Kampala", latRange: [-1.0, 4.0], lonRange: [29.0, 35.0] },
    { name: "Africa/Khartoum", latRange: [8.0, 23.0], lonRange: [21.0, 38.0] },
    { name: "Africa/Kigali", latRange: [-2.0, 3.0], lonRange: [28.0, 30.5] },
    { name: "Africa/Kinshasa", latRange: [-5.0, -5.0], lonRange: [15.31, 15.31] },
    { name: "Africa/Lagos", latRange: [4.0, 14.0], lonRange: [3.5, 14.5] },
    { name: "Africa/Libreville", latRange: [-4.0, 1.0], lonRange: [8.0, 15.0] },
    { name: "Africa/Lome", latRange: [6.1319, 6.1319], lonRange: [1.2228, 1.2228] },
    { name: "Africa/Luanda", latRange: [-18.0, -8.0], lonRange: [12.0, 20.0] },
    { name: "Africa/Lubumbashi", latRange: [-11.65, -11.65], lonRange: [27.479, 27.479] },
    { name: "Africa/Lusaka", latRange: [-18.0, -8.0], lonRange: [22.0, 30.0] },
    { name: "Africa/Malabo", latRange: [1.0, 3.5], lonRange: [8.0, 11.0] },
    { name: "Africa/Maputo", latRange: [-27.0, -22.0], lonRange: [30.0, 36.0] },
    { name: "Africa/Maseru", latRange: [-30.0, -28.0], lonRange: [27.0, 30.0] },
    { name: "Africa/Mbabane", latRange: [-27.0, -25.0], lonRange: [31.0, 33.0] },
    { name: "Africa/Mogadishu", latRange: [2.0469, 2.0469], lonRange: [45.3182, 45.3182] },
    { name: "Africa/Monrovia", latRange: [6.3, 6.3], lonRange: [-10.78, -10.78] },
    { name: "Africa/Nairobi", latRange: [-5.0, 5.0], lonRange: [33.0, 42.0] },
    { name: "Africa/Ndjamena", latRange: [12.1, 12.1], lonRange: [15.0333, 15.0333] },
    { name: "Africa/Niamey", latRange: [11.0, 23.0], lonRange: [0.0, 16.0] },
    { name: "Africa/Nouakchott", latRange: [15.0, 20.0], lonRange: [-20.0, -10.0] },
    { name: "Africa/Ouagadougou", latRange: [10.0, 15.0], lonRange: [-5.0, 2.0] },
    { name: "Africa/Porto-Novo", latRange: [6.0, 12.0], lonRange: [1.0, 3.0] },
    { name: "Africa/Sao_Tome", latRange: [0.0, 1.5], lonRange: [6.0, 8.5] },
    { name: "Africa/Tripoli", latRange: [32.9, 32.9], lonRange: [13.18, 13.18] },
    { name: "Africa/Tunis", latRange: [30.0, 37.5], lonRange: [7.0, 12.0] },
    { name: "Africa/Windhoek", latRange: [-29.0, -17.0], lonRange: [11.0, 20.0] },

// Asia
    { name: "Asia/Almaty", latRange: [40.0, 48.0], lonRange: [70.0, 86.0] },
    { name: "Asia/Amman", latRange: [29.0, 33.5], lonRange: [35.0, 40.0] },
    { name: "Asia/Anadyr", latRange: [50.0, 65.0], lonRange: [142.0, 179.0] },
    { name: "Asia/Aqtau", latRange: [40.0, 47.0], lonRange: [50.0, 57.0] },
    { name: "Asia/Aqtobe", latRange: [45.0, 55.0], lonRange: [50.0, 62.0] },
    { name: "Asia/Ashgabat", latRange: [35.0, 42.0], lonRange: [52.0, 67.0] },
    { name: "Asia/Atyrau", latRange: [46.0, 47.0], lonRange: [51.0, 52.0] },
    { name: "Asia/Baghdad", latRange: [29.0, 37.0], lonRange: [39.0, 49.0] },
    { name: "Asia/Bahrain", latRange: [25.0, 27.0], lonRange: [50.0, 51.0] },
    { name: "Asia/Baku", latRange: [38.0, 42.0], lonRange: [48.0, 51.0] },
    { name: "Asia/Bangkok", latRange: [5.0, 20.0], lonRange: [97.0, 106.0] },
    { name: "Asia/Barnaul", latRange: [51.0, 54.0], lonRange: [82.0, 86.0] },
    { name: "Asia/Beirut", latRange: [33.0, 34.0], lonRange: [35.0, 36.0] },
    { name: "Asia/Bishkek", latRange: [39.0, 43.0], lonRange: [69.0, 77.0] },
    { name: "Asia/Brunei", latRange: [4.0, 6.0], lonRange: [114.0, 115.0] },
    { name: "Asia/Chita", latRange: [51.0, 54.0], lonRange: [113.0, 116.0] },
    { name: "Asia/Choibalsan", latRange: [42.0, 50.0], lonRange: [110.0, 122.0] },
    { name: "Asia/Chongqing", latRange: [29.0, 38.0], lonRange: [105.0, 115.0] },
    { name: "Asia/Colombo", latRange: [5.0, 10.0], lonRange: [79.0, 82.0] },
    { name: "Asia/Damascus", latRange: [32.0, 37.0], lonRange: [35.0, 43.0] },
    { name: "Asia/Dhaka", latRange: [20.0, 28.0], lonRange: [88.0, 93.0] },
    { name: "Asia/Dili", latRange: [-10.0, -8.0], lonRange: [124.0, 126.0] },
    { name: "Asia/Dubai", latRange: [20.0, 30.0], lonRange: [51.0, 60.0] },
    { name: "Asia/Dushanbe", latRange: [37.0, 42.0], lonRange: [67.0, 75.0] },
    { name: "Asia/Famagusta", latRange: [35.0, 36.0], lonRange: [33.0, 34.0] },
    { name: "Asia/Gaza", latRange: [31.0, 32.5], lonRange: [34.0, 36.0] },
    { name: "Asia/Hebron", latRange: [31.0, 32.5], lonRange: [34.0, 36.0] },
    { name: "Asia/Ho_Chi_Minh", latRange: [8.0, 23.0], lonRange: [102.0, 110.0] },
    { name: "Asia/Hong_Kong", latRange: [22.0, 23.5], lonRange: [114.0, 115.5] },
    { name: "Asia/Hovd", latRange: [45.0, 50.0], lonRange: [90.0, 95.0] },
    { name: "Asia/Irkutsk", latRange: [50.0, 60.0], lonRange: [100.0, 110.0] },
    { name: "Asia/Jakarta", latRange: [-6.0, -4.0], lonRange: [106.0, 108.0] },
    { name: "Asia/Jayapura", latRange: [-10.0, -5.0], lonRange: [135.0, 150.0] },
    { name: "Asia/Jerusalem", latRange: [31.0, 32.5], lonRange: [34.0, 36.0] },
    { name: "Asia/Kabul", latRange: [29.0, 38.0], lonRange: [60.0, 70.0] },
    { name: "Asia/Kamchatka", latRange: [50.0, 60.0], lonRange: [150.0, 170.0] },
    { name: "Asia/Karachi", latRange: [23.0, 30.0], lonRange: [60.0, 77.0] },
    { name: "Asia/Kathmandu", latRange: [26.0, 31.0], lonRange: [80.0, 90.0] },
    { name: "Asia/Khandyga", latRange: [61.0, 63.0], lonRange: [128.0, 132.0] },
    { name: "Asia/Kolkata", latRange: [6.0, 38.0], lonRange: [68.0, 97.0] },
    { name: "Asia/Krasnoyarsk", latRange: [50.0, 60.0], lonRange: [80.0, 100.0] },
    { name: "Asia/Kuala_Lumpur", latRange: [1.0, 7.0], lonRange: [99.0, 105.0] },
    { name: "Asia/Kuching", latRange: [0.0, 5.0], lonRange: [109.0, 115.0] },
    { name: "Asia/Macau", latRange: [22.0, 23.0], lonRange: [113.0, 114.0] },
    { name: "Asia/Magadan", latRange: [50.0, 60.0], lonRange: [140.0, 160.0] },
    { name: "Asia/Makassar", latRange: [-10.0, 5.0], lonRange: [115.0, 130.0] },
    { name: "Asia/Manila", latRange: [4.0, 22.0], lonRange: [113.0, 129.0] },
    { name: "Asia/Nicosia", latRange: [33.0, 35.0], lonRange: [32.0, 34.0] },
    { name: "Asia/Novokuznetsk", latRange: [51.0, 60.0], lonRange: [85.0, 95.0] },
    { name: "Asia/Novosibirsk", latRange: [51.0, 60.0], lonRange: [75.0, 85.0] },
    { name: "Asia/Omsk", latRange: [51.0, 60.0], lonRange: [70.0, 80.0] },
    { name: "Asia/Oral", latRange: [45.0, 53.0], lonRange: [50.0, 60.0] },
    { name: "Asia/Pontianak", latRange: [-1.0, 1.0], lonRange: [108.0, 110.0] },
    { name: "Asia/Pyongyang", latRange: [37.0, 41.0], lonRange: [125.0, 130.0] },
    { name: "Asia/Qatar", latRange: [24.0, 30.0], lonRange: [50.0, 56.0] },
    { name: "Asia/Riyadh", latRange: [12.0, 25.0], lonRange: [34.0, 60.0] },
    { name: "Asia/Sakhalin", latRange: [46.0, 54.0], lonRange: [141.0, 144.0] },
    { name: "Asia/Samarkand", latRange: [37.0, 43.0], lonRange: [66.0, 80.0] },
    { name: "Asia/Seoul", latRange: [33.0, 39.0], lonRange: [126.0, 130.0] },
    { name: "Asia/Shanghai", latRange: [18.0, 54.0], lonRange: [73.0, 135.0] },
    { name: "Asia/Singapore", latRange: [1.0, 2.0], lonRange: [103.0, 104.0] },
    { name: "Asia/Srednekolymsk", latRange: [63.0, 67.0], lonRange: [148.0, 156.0] },
    { name: "Asia/Taipei", latRange: [20.0, 25.0], lonRange: [119.0, 123.0] },
    { name: "Asia/Tashkent", latRange: [37.0, 44.0], lonRange: [55.0, 75.0] },
    { name: "Asia/Tbilisi", latRange: [41.0, 43.0], lonRange: [40.0, 47.0] },
    { name: "Asia/Tehran", latRange: [25.0, 40.0], lonRange: [44.0, 64.0] },
    { name: "Asia/Thimphu", latRange: [26.0, 30.0], lonRange: [88.0, 93.0] },
    { name: "Asia/Tokyo", latRange: [35.0, 36.0], lonRange: [139.0, 141.0] },
    { name: "Asia/Tomsk", latRange: [55.0, 57.0], lonRange: [84.0, 86.0] },
    { name: "Asia/Ulaanbaatar", latRange: [41.0, 50.0], lonRange: [85.0, 110.0] },
    { name: "Asia/Urumqi", latRange: [35.0, 50.0], lonRange: [75.0, 100.0] },
    { name: "Asia/Ust-Nera", latRange: [62.0, 65.0], lonRange: [143.0, 147.0] },
    { name: "Asia/Vientiane", latRange: [14.0, 23.0], lonRange: [100.0, 108.0] },
    { name: "Asia/Vladivostok", latRange: [42.0, 44.0], lonRange: [131.0, 133.0] },
    { name: "Asia/Yakutsk", latRange: [50.0, 65.0], lonRange: [120.0, 140.0] },
    { name: "Asia/Yangon", latRange: [15.0, 21.0], lonRange: [95.0, 97.0] },
    { name: "Asia/Yekaterinburg", latRange: [56.0, 57.0], lonRange: [60.0, 61.0] },
    { name: "Asia/Yerevan", latRange: [39.0, 41.0], lonRange: [44.0, 45.0] },

// America
    { name: "America/Adak", latRange: [51.0, 60.0], lonRange: [-178.0, -175.0] },
    { name: "America/Anchorage", latRange: [51.0, 60.0], lonRange: [-150.0, -130.0] },
    { name: "America/Anguilla", latRange: [18.0, 20.0], lonRange: [-63.0, -61.0] },
    { name: "America/Antigua", latRange: [16.0, 18.0], lonRange: [-62.0, -60.0] },
    { name: "America/Araguaina", latRange: [-8.0, -7.0], lonRange: [-48.0, -47.0] },
    { name: "America/Argentina/Buenos_Aires", latRange: [-55.0, -40.0], lonRange: [-70.0, -55.0] },
    { name: "America/Argentina/Catamarca", latRange: [-30.0, -26.0], lonRange: [-67.0, -65.0] },
    { name: "America/Argentina/Cordoba", latRange: [-35.0, -31.0], lonRange: [-64.0, -62.0] },
    { name: "America/Argentina/Jujuy", latRange: [-24.0, -22.0], lonRange: [-66.0, -64.0] },
    { name: "America/Argentina/La_Rioja", latRange: [-30.0, -28.0], lonRange: [-67.0, -65.0] },
    { name: "America/Argentina/Mendoza", latRange: [-34.0, -32.0], lonRange: [-69.0, -67.0] },
    { name: "America/Argentina/Rio_Gallegos", latRange: [-52.0, -51.0], lonRange: [-69.0, -68.0] },
    { name: "America/Argentina/Salta", latRange: [-25.0, -24.0], lonRange: [-65.0, -64.0] },
    { name: "America/Argentina/San_Juan", latRange: [-32.0, -31.0], lonRange: [-69.0, -68.0] },
    { name: "America/Argentina/San_Luis", latRange: [-34.0, -33.0], lonRange: [-67.0, -66.0] },
    { name: "America/Argentina/Tucuman", latRange: [-27.0, -26.0], lonRange: [-66.0, -65.0] },
    { name: "America/Argentina/Ushuaia", latRange: [-54.0, -53.0], lonRange: [-68.0, -67.0] },
    { name: "America/Aruba", latRange: [12.0, 13.0], lonRange: [-70.0, -69.0] },
    { name: "America/Asuncion", latRange: [-20.0, -25.0], lonRange: [-57.0, -55.0] },
    { name: "America/Atikokan", latRange: [48.0, 49.0], lonRange: [-92.0, -90.0] },
    { name: "America/Bahia", latRange: [-15.0, -12.0], lonRange: [-39.0, -34.0] },
    { name: "America/Bahia_Banderas", latRange: [20.0, 21.0], lonRange: [-106.0, -105.0] },
    { name: "America/Barbados", latRange: [13.0, 14.0], lonRange: [-60.0, -58.0] },
    { name: "America/Belem", latRange: [-2.0, -1.0], lonRange: [-49.0, -48.0] },
    { name: "America/Belize", latRange: [16.0, 18.0], lonRange: [-89.0, -87.0] },
    { name: "America/Blanc-Sablon", latRange: [51.0, 52.0], lonRange: [-58.0, -57.0] },
    { name: "America/Boa_Vista", latRange: [1.0, 3.0], lonRange: [-61.0, -60.0] },
    { name: "America/Bogota", latRange: [1.0, 13.0], lonRange: [-79.0, -66.0] },
    { name: "America/Boise", latRange: [42.0, 44.0], lonRange: [-116.0, -115.0] },
    { name: "America/Cambridge_Bay", latRange: [65.0, 70.0], lonRange: [-125.0, -115.0] },
    { name: "America/Campo_Grande", latRange: [-21.0, -20.0], lonRange: [-54.0, -53.0] },
    { name: "America/Cancun", latRange: [18.0, 21.0], lonRange: [-88.0, -85.0] },
    { name: "America/Caracas", latRange: [0.0, 12.0], lonRange: [-67.0, -59.0] },
    { name: "America/Cayenne", latRange: [3.0, 6.0], lonRange: [-53.0, -50.0] },
    { name: "America/Cayman", latRange: [19.0, 20.0], lonRange: [-82.0, -81.0] },
    { name: "America/Chicago", latRange: [35.0, 49.0], lonRange: [-103.0, -85.0] },
    { name: "America/Chihuahua", latRange: [26.0, 32.0], lonRange: [-107.0, -100.0] },
    { name: "America/Ciudad_Juarez", latRange: [31.0, 32.0], lonRange: [-107.0, -106.0] },
    { name: "America/Costa_Rica", latRange: [8.0, 11.0], lonRange: [-85.0, -82.0] },
    { name: "America/Creston", latRange: [49.0, 50.0], lonRange: [-116.0, -114.0] },
    { name: "America/Cuiaba", latRange: [-16.0, -15.0], lonRange: [-56.0, -55.0] },
    { name: "America/Curacao", latRange: [12.0, 13.0], lonRange: [-69.0, -68.0] },
    { name: "America/Danmarkshavn", latRange: [76.0, 77.0], lonRange: [-19.0, -18.0] },
    { name: "America/Dawson", latRange: [60.0, 65.0], lonRange: [-140.0, -135.0] },
    { name: "America/Dawson_Creek", latRange: [55.0, 60.0], lonRange: [-121.0, -114.0] },
    { name: "America/Denver", latRange: [32.0, 42.0], lonRange: [-109.0, -100.0] },
    { name: "America/Detroit", latRange: [41.0, 45.0], lonRange: [-90.0, -80.0] },
    { name: "America/Dominica", latRange: [15.0, 16.0], lonRange: [-62.0, -61.0] },
    { name: "America/Edmonton", latRange: [49.0, 60.0], lonRange: [-120.0, -110.0] },
    { name: "America/Eirunepe", latRange: [-9.0, -5.0], lonRange: [-69.0, -63.0] },
    { name: "America/El_Salvador", latRange: [13.0, 15.0], lonRange: [-90.0, -87.0] },
    { name: "America/Fort_Nelson", latRange: [58.0, 60.0], lonRange: [-122.0, -120.0] },
    { name: "America/Fortaleza", latRange: [-5.0, -3.0], lonRange: [-40.0, -36.0] },
    { name: "America/Glace_Bay", latRange: [46.0, 48.0], lonRange: [-60.0, -58.0] },
    { name: "America/Godthab", latRange: [63.0, 65.0], lonRange: [-54.0, -50.0] },
    { name: "America/Goose_Bay", latRange: [53.0, 54.0], lonRange: [-61.0, -60.0] },
    { name: "America/Grand_Turk", latRange: [21.0, 22.0], lonRange: [-72.0, -71.0] },
    { name: "America/Grenada", latRange: [12.0, 13.0], lonRange: [-62.0, -61.0] },
    { name: "America/Guadeloupe", latRange: [15.0, 17.0], lonRange: [-62.0, -61.0] },
    { name: "America/Guatemala", latRange: [13.0, 18.0], lonRange: [-92.0, -88.0] },
    { name: "America/Guayaquil", latRange: [-3.0, 0.0], lonRange: [-80.0, -79.0] },
    { name: "America/Guyana", latRange: [4.0, 9.0], lonRange: [-58.0, -55.0] },
    { name: "America/Halifax", latRange: [42.0, 48.0], lonRange: [-66.0, -60.0] },
    { name: "America/Havana", latRange: [20.0, 23.0], lonRange: [-85.0, -80.0] },
    { name: "America/Hermosillo", latRange: [29.0, 30.0], lonRange: [-112.0, -111.0] },
    { name: "America/Indiana/Indianapolis", latRange: [38.0, 42.0], lonRange: [-88.0, -80.0] },
    { name: "America/Indiana/Knox", latRange: [41.0, 42.0], lonRange: [-87.5, -86.5] },
    { name: "America/Indiana/Marengo", latRange: [38.0, 39.0], lonRange: [-87.0, -86.0] },
    { name: "America/Indiana/Petersburg", latRange: [38.0, 39.0], lonRange: [-88.0, -87.0] },
    { name: "America/Indiana/Tell_City", latRange: [37.0, 38.0], lonRange: [-87.0, -86.0] },
    { name: "America/Indiana/Vevay", latRange: [38.0, 39.0], lonRange: [-85.5, -84.5] },
    { name: "America/Indiana/Vincennes", latRange: [38.0, 39.0], lonRange: [-88.0, -87.0] },
    { name: "America/Indiana/Winamac", latRange: [41.0, 42.0], lonRange: [-87.5, -86.5] },
    { name: "America/Inuvik", latRange: [68.0, 69.0], lonRange: [-134.0, -133.0] },
    { name: "America/Iqaluit", latRange: [60.0, 70.0], lonRange: [-75.0, -60.0] },
    { name: "America/Jamaica", latRange: [16.0, 19.0], lonRange: [-78.0, -76.0] },
    { name: "America/Juneau", latRange: [55.0, 59.0], lonRange: [-140.0, -130.0] },
    { name: "America/Kentucky/Louisville", latRange: [36.0, 38.0], lonRange: [-86.0, -84.0] },
    { name: "America/Kentucky/Monticello", latRange: [36.0, 37.0], lonRange: [-85.0, -84.0] },
    { name: "America/Kralendijk", latRange: [12.0, 13.0], lonRange: [-68.0, -67.0] },
    { name: "America/La_Paz", latRange: [-17.0, -16.0], lonRange: [-68.0, -67.0] },
    { name: "America/Lima", latRange: [-18.0, -5.0], lonRange: [-80.0, -75.0] },
    { name: "America/Los_Angeles", latRange: [32.0, 50.0], lonRange: [-119.0, -114.0] },
    { name: "America/Lower_Princes", latRange: [18.0, 19.0], lonRange: [-64.0, -63.0] },
    { name: "America/Maceio", latRange: [-10.0, -9.0], lonRange: [-36.0, -35.0] },
    { name: "America/Managua", latRange: [11.0, 13.0], lonRange: [-87.0, -85.0] },
    { name: "America/Manaus", latRange: [-3.0, -2.0], lonRange: [-60.0, -59.0] },
    { name: "America/Marigot", latRange: [18.0, 19.0], lonRange: [-64.0, -63.0] },
    { name: "America/Martinique", latRange: [14.0, 15.0], lonRange: [-61.0, -60.0] },
    { name: "America/Matamoros", latRange: [25.0, 27.0], lonRange: [-98.0, -97.0] },
    { name: "America/Mazatlan", latRange: [23.0, 25.0], lonRange: [-107.0, -105.0] },
    { name: "America/Menominee", latRange: [45.0, 46.0], lonRange: [-88.0, -87.0] },
    { name: "America/Merida", latRange: [20.0, 21.0], lonRange: [-90.0, -88.0] },
    { name: "America/Metlakatla", latRange: [55.0, 56.0], lonRange: [-132.0, -131.0] },
    { name: "America/Mexico_City", latRange: [19.0, 21.0], lonRange: [-100.0, -99.0] },
    { name: "America/Miquelon", latRange: [47.0, 48.0], lonRange: [-56.5, -55.5] },
    { name: "America/Moncton", latRange: [46.0, 47.0], lonRange: [-65.0, -64.0] },
    { name: "America/Monterrey", latRange: [25.0, 27.0], lonRange: [-101.0, -99.0] },
    { name: "America/Montevideo", latRange: [-35.0, -34.0], lonRange: [-57.0, -56.0] },
    { name: "America/Montreal", latRange: [45.0, 46.0], lonRange: [-74.0, -73.0] },
    { name: "America/Montserrat", latRange: [16.5, 17.0], lonRange: [-62.5, -62.0] },
    { name: "America/Nassau", latRange: [24.0, 26.0], lonRange: [-78.0, -76.0] },
    { name: "America/New_York", latRange: [40.0, 45.0], lonRange: [-75.0, -70.0] },
    { name: "America/Nipigon", latRange: [49.0, 50.0], lonRange: [-89.0, -88.0] },
    { name: "America/Nome", latRange: [64.0, 65.0], lonRange: [-166.0, -165.0] },
    { name: "America/Noronha", latRange: [-3.9, -3.8], lonRange: [-32.0, -31.0] },
    { name: "America/North_Dakota/Beulah", latRange: [47.0, 48.0], lonRange: [-102.0, -101.0] },
    { name: "America/North_Dakota/Center", latRange: [47.0, 48.0], lonRange: [-102.0, -101.0] },
    { name: "America/North_Dakota/New_Salem", latRange: [47.0, 48.0], lonRange: [-102.0, -101.0] },
    { name: "America/Ojinaga", latRange: [28.0, 30.0], lonRange: [-105.0, -103.0] },
    { name: "America/Panama", latRange: [7.0, 10.0], lonRange: [-80.0, -77.0] },
    { name: "America/Pangnirtung", latRange: [65.0, 66.0], lonRange: [-67.0, -66.0] },
    { name: "America/Paramaribo", latRange: [5.0, 6.0], lonRange: [-56.0, -55.0] },
    { name: "America/Phoenix", latRange: [32.0, 35.0], lonRange: [-114.0, -112.0] },
    { name: "America/Port_of_Spain", latRange: [10.0, 11.0], lonRange: [-62.0, -61.0] },
    { name: "America/Port-au-Prince", latRange: [18.0, 19.0], lonRange: [-73.0, -72.0] },
    { name: "America/Porto_Velho", latRange: [-9.0, -8.0], lonRange: [-64.0, -63.0] },
    { name: "America/Puerto_Rico", latRange: [18.0, 19.0], lonRange: [-67.0, -66.0] },
    { name: "America/Punta_Arenas", latRange: [-53.0, -52.0], lonRange: [-71.0, -70.0] },
    { name: "America/Rainy_River", latRange: [48.0, 49.0], lonRange: [-94.0, -93.0] },
    { name: "America/Rankin_Inlet", latRange: [62.0, 63.0], lonRange: [-93.0, -92.0] },
    { name: "America/Recife", latRange: [-8.0, -7.0], lonRange: [-35.0, -34.0] },
    { name: "America/Regina", latRange: [50.0, 51.0], lonRange: [-105.0, -104.0] },
    { name: "America/Resolute", latRange: [74.0, 75.0], lonRange: [-95.0, -94.0] },
    { name: "America/Rio_Branco", latRange: [-10.0, -9.0], lonRange: [-68.0, -67.0] },
    { name: "America/Santarem", latRange: [-3.0, -2.0], lonRange: [-55.0, -54.0] },
    { name: "America/Santiago", latRange: [-34.0, -33.0], lonRange: [-71.0, -70.0] },
    { name: "America/Santo_Domingo", latRange: [18.0, 19.0], lonRange: [-70.0, -69.0] },
    { name: "America/Sao_Paulo", latRange: [-24.0, -23.0], lonRange: [-47.0, -46.0] },
    { name: "America/Scoresbysund", latRange: [70.0, 71.0], lonRange: [-22.0, -21.0] },
    { name: "America/Sitka", latRange: [56.0, 57.0], lonRange: [-135.0, -134.0] },
    { name: "America/St_Barthelemy", latRange: [17.0, 18.0], lonRange: [-63.0, -62.0] },
    { name: "America/St_Johns", latRange: [47.0, 48.0], lonRange: [-53.0, -52.0] },
    { name: "America/St_Kitts", latRange: [17.0, 18.0], lonRange: [-63.0, -62.0] },
    { name: "America/St_Lucia", latRange: [13.0, 14.0], lonRange: [-61.0, -60.0] },
    { name: "America/St_Thomas", latRange: [18.0, 19.0], lonRange: [-65.0, -64.0] },
    { name: "America/St_Vincent", latRange: [13.0, 14.0], lonRange: [-62.0, -61.0] },
    { name: "America/Swift_Current", latRange: [50.0, 51.0], lonRange: [-108.0, -107.0] },
    { name: "America/Tegucigalpa", latRange: [14.0, 15.0], lonRange: [-88.0, -87.0] },
    { name: "America/Thule", latRange: [76.0, 77.0], lonRange: [-69.0, -68.0] },
    { name: "America/Thunder_Bay", latRange: [48.0, 49.0], lonRange: [-89.0, -88.0] },
    { name: "America/Tijuana", latRange: [32.0, 33.0], lonRange: [-117.0, -116.0] },
    { name: "America/Toronto", latRange: [43.0, 44.0], lonRange: [-79.0, -78.0] },
    { name: "America/Tortola", latRange: [18.0, 19.0], lonRange: [-65.0, -64.0] },
    { name: "America/Vancouver", latRange: [49.0, 50.0], lonRange: [-123.0, -122.0] },
    { name: "America/Whitehorse", latRange: [60.0, 61.0], lonRange: [-136.0, -135.0] },
    { name: "America/Winnipeg", latRange: [49.0, 50.0], lonRange: [-97.0, -96.0] },
    { name: "America/Yakutat", latRange: [59.0, 60.0], lonRange: [-140.0, -139.0] },
    { name: "America/Yellowknife", latRange: [62.0, 63.0], lonRange: [-115.0, -114.0] }, 

// Antarctica
    { name: "Antarctica/Casey", latRange: [-66.0, -50.0], lonRange: [110.0, 120.0] },
    { name: "Antarctica/Davis", latRange: [-70.0, -60.0], lonRange: [77.0, 85.0] },
    { name: "Antarctica/DumontDUrville", latRange: [-70.0, -60.0], lonRange: [140.0, 150.0] },
    { name: "Antarctica/Macquarie", latRange: [-55.0, -54.0], lonRange: [158.0, 159.0] },
    { name: "Antarctica/Mawson", latRange: [-68.0, -66.0], lonRange: [62.0, 64.0] },
    { name: "Antarctica/McMurdo", latRange: [-90.0, -60.0], lonRange: [150.0, 180.0] },
    { name: "Antarctica/Palmer", latRange: [-80.0, -60.0], lonRange: [-64.0, -60.0] },
    { name: "Antarctica/Rothera", latRange: [-68.0, -66.0], lonRange: [-68.0, -66.0] },
    { name: "Antarctica/Syowa", latRange: [-69.0, -60.0], lonRange: [39.0, 43.0] },
    { name: "Antarctica/Troll", latRange: [-80.0, -60.0], lonRange: [2.0, 10.0] },
    { name: "Antarctica/Vostok", latRange: [-78.0, -60.0], lonRange: [106.0, 150.0] },

// Arctic
    { name: "Arctic/Longyearbyen", latRange: [74.0, 82.0], lonRange: [10.0, 30.0] },
    { name: "Arctic/Thule", latRange: [76.0, 83.0], lonRange: [-76.0, -70.0] },
    { name: "Arctic/Jan_Mayen", latRange: [70.0, 80.0], lonRange: [-10.0, 5.0] },

// Atlantic
    { name: "Atlantic/Azores", latRange: [36.0, 40.0], lonRange: [-30.0, -25.0] },
    { name: "Atlantic/Bermuda", latRange: [31.0, 34.0], lonRange: [-65.0, -62.0] },
    { name: "Atlantic/Canary", latRange: [27.0, 30.0], lonRange: [-18.0, -14.0] },
    { name: "Atlantic/Cape_Verde", latRange: [14.0, 17.0], lonRange: [-25.0, -22.0] },
    { name: "Atlantic/Faeroe", latRange: [61.0, 63.0], lonRange: [-7.0, -5.0] },
    { name: "Atlantic/Faroe", latRange: [61.0, 63.0], lonRange: [-7.0, -5.0] },
    { name: "Atlantic/Jan_Mayen", latRange: [70.0, 80.0], lonRange: [-10.0, 5.0] },
    { name: "Atlantic/Madeira", latRange: [32.0, 34.0], lonRange: [-17.0, -14.0] },
    { name: "Atlantic/Reykjavik", latRange: [63.0, 66.0], lonRange: [-25.0, -13.0] },
    { name: "Atlantic/South_Georgia", latRange: [-54.0, -54.0], lonRange: [-37.0, -35.0] },
    { name: "Atlantic/St_Helena", latRange: [-15.0, -14.0], lonRange: [-6.0, -5.0] },
    { name: "Atlantic/Stanley", latRange: [-50.0, -48.0], lonRange: [-58.0, -56.0] },

// Australia
    { name: "Australia/Adelaide", latRange: [-44.0, -35.0], lonRange: [132.0, 140.0] },
    { name: "Australia/Brisbane", latRange: [-30.0, -25.0], lonRange: [140.0, 153.0] },
    { name: "Australia/Broken_Hill", latRange: [-32.0, -29.0], lonRange: [140.0, 144.0] },
    { name: "Australia/Currie", latRange: [-40.0, -39.0], lonRange: [144.0, 148.0] },
    { name: "Australia/Darwin", latRange: [-16.0, -12.0], lonRange: [130.0, 138.0] },
    { name: "Australia/Eucla", latRange: [-34.0, -30.0], lonRange: [120.0, 128.0] },
    { name: "Australia/Hobart", latRange: [-44.0, -40.0], lonRange: [146.0, 150.0] },
    { name: "Australia/Lindeman", latRange: [-23.0, -21.0], lonRange: [149.0, 151.0] },
    { name: "Australia/Lord_Howe", latRange: [-32.0, -30.0], lonRange: [152.0, 154.0] },
    { name: "Australia/Melbourne", latRange: [-38.0, -37.0], lonRange: [144.0, 145.0] },
    { name: "Australia/Perth", latRange: [-35.0, -25.0], lonRange: [115.0, 130.0] },
    { name: "Australia/Sydney", latRange: [-37.0, -33.0], lonRange: [150.0, 154.0] },

// Europe
    { name: "Europe/Amsterdam", latRange: [50.0, 53.0], lonRange: [3.0, 7.0] },
    { name: "Europe/Andorra", latRange: [42.0, 43.0], lonRange: [1.0, 2.5] },
    { name: "Europe/Athens", latRange: [35.0, 42.0], lonRange: [19.0, 28.0] },
    { name: "Europe/Belfast", latRange: [54.0, 56.0], lonRange: [-6.0, -4.0] },
    { name: "Europe/Berlin", latRange: [47.0, 55.0], lonRange: [10.0, 15.0] },
    { name: "Europe/Bratislava", latRange: [47.0, 49.0], lonRange: [16.0, 20.0] },
    { name: "Europe/Brussels", latRange: [49.0, 51.0], lonRange: [2.0, 6.0] },
    { name: "Europe/Bucharest", latRange: [43.0, 48.0], lonRange: [24.0, 30.0] },
    { name: "Europe/Budapest", latRange: [45.0, 48.0], lonRange: [16.0, 22.0] },
    { name: "Europe/Copenhagen", latRange: [54.0, 57.0], lonRange: [8.0, 13.0] },
    { name: "Europe/Dublin", latRange: [51.0, 55.0], lonRange: [-10.0, -5.0] },
    { name: "Europe/Gibraltar", latRange: [36.0, 37.0], lonRange: [-6.5, -5.5] },
    { name: "Europe/Helsinki", latRange: [60.0, 70.0], lonRange: [20.0, 30.0] },
    { name: "Europe/Isle_of_Man", latRange: [54.0, 57.0], lonRange: [-5.5, -4.5] },
    { name: "Europe/Istanbul", latRange: [40.0, 42.0], lonRange: [26.0, 30.0] },
    { name: "Europe/Jersey", latRange: [49.0, 50.0], lonRange: [-3.0, -2.0] },
    { name: "Europe/Kaliningrad", latRange: [54.0, 56.0], lonRange: [19.0, 22.0] },
    { name: "Europe/Kiev", latRange: [44.0, 50.0], lonRange: [29.0, 32.0] },
    { name: "Europe/Kirov", latRange: [58.0, 59.0], lonRange: [48.0, 50.0] },
    { name: "Europe/Lisbon", latRange: [37.0, 40.0], lonRange: [-9.5, -6.0] },
    { name: "Europe/Ljubljana", latRange: [45.0, 47.0], lonRange: [13.0, 16.0] },
    { name: "Europe/London", latRange: [50.0, 58.0], lonRange: [-6.0, 1.0] },
    { name: "Europe/Luxembourg", latRange: [49.0, 50.0], lonRange: [5.0, 6.0] },
    { name: "Europe/Madrid", latRange: [36.0, 43.0], lonRange: [-10.0, -3.0] },
    { name: "Europe/Malta", latRange: [35.0, 36.0], lonRange: [14.0, 15.5] },
    { name: "Europe/Mariehamn", latRange: [60.0, 61.0], lonRange: [19.0, 20.0] },
    { name: "Europe/Minsk", latRange: [53.0, 55.0], lonRange: [27.0, 29.0] },
    { name: "Europe/Monaco", latRange: [43.5, 44.0], lonRange: [7.0, 8.0] },
    { name: "Europe/Moscow", latRange: [55.0, 59.0], lonRange: [30.0, 40.0] },
    { name: "Europe/Oslo", latRange: [59.0, 62.0], lonRange: [5.0, 11.0] },
    { name: "Europe/Paris", latRange: [41.0, 51.0], lonRange: [-5.0, 10.0] },
    { name: "Europe/Prague", latRange: [49.0, 51.0], lonRange: [12.0, 18.0] },
    { name: "Europe/Riga", latRange: [55.0, 58.0], lonRange: [20.0, 28.0] },
    { name: "Europe/Rome", latRange: [41.0, 45.0], lonRange: [6.0, 15.0] },
    { name: "Europe/Samara", latRange: [50.0, 55.0], lonRange: [48.0, 54.0] },
    { name: "Europe/San_Marino", latRange: [43.0, 44.0], lonRange: [12.0, 13.0] },
    { name: "Europe/Saratov", latRange: [51.0, 52.0], lonRange: [45.0, 47.0] },
    { name: "Europe/Simferopol", latRange: [44.0, 45.0], lonRange: [33.0, 35.0] },
    { name: "Europe/Sofia", latRange: [41.0, 44.0], lonRange: [22.0, 28.0] },
    { name: "Europe/Stockholm", latRange: [59.0, 60.0], lonRange: [17.0, 18.0] },
    { name: "Europe/Tallinn", latRange: [57.0, 59.0], lonRange: [21.0, 28.0] },
    { name: "Europe/Tirane", latRange: [40.0, 42.0], lonRange: [19.0, 21.0] },
    { name: "Europe/Ulyanovsk", latRange: [54.0, 55.0], lonRange: [48.0, 50.0] },
    { name: "Europe/Uzhgorod", latRange: [48.0, 49.0], lonRange: [21.0, 23.0] },
    { name: "Europe/Vaduz", latRange: [47.0, 48.0], lonRange: [9.5, 10.5] },
    { name: "Europe/Vatican", latRange: [41.0, 42.0], lonRange: [12.0, 13.0] },
    { name: "Europe/Vienna", latRange: [46.0, 49.0], lonRange: [15.0, 17.0] },
    { name: "Europe/Vilnius", latRange: [54.0, 57.0], lonRange: [20.0, 26.0] },
    { name: "Europe/Volgograd", latRange: [48.0, 49.0], lonRange: [43.0, 45.0] },
    { name: "Europe/Warsaw", latRange: [51.0, 53.0], lonRange: [20.0, 22.0] },
    { name: "Europe/Zagreb", latRange: [45.0, 47.0], lonRange: [14.0, 17.0] },
    { name: "Europe/Zurich", latRange: [47.0, 48.0], lonRange: [8.0, 9.0] },


// Indian
    { name: "Indian/Antananarivo", latRange: [-26.0, -13.0], lonRange: [43.0, 50.0] },
    { name: "Indian/Chagos", latRange: [-7.0, -5.0], lonRange: [70.0, 73.0] },
    { name: "Indian/Christmas", latRange: [-11.0, -10.0], lonRange: [150.0, 155.0] },
    { name: "Indian/Cocos", latRange: [-13.0, -11.0], lonRange: [96.0, 100.0] },
    { name: "Indian/Comoro", latRange: [-12.0, -11.0], lonRange: [43.0, 45.0] },
    { name: "Indian/Delhi", latRange: [28.0, 30.0], lonRange: [76.0, 80.0] },
    { name: "Indian/Kerguelen", latRange: [-49.0, -48.0], lonRange: [69.0, 71.0] },
    { name: "Indian/Mahe", latRange: [-5.0, -4.0], lonRange: [55.0, 56.0] },
    { name: "Indian/Maldives", latRange: [-7.0, -3.0], lonRange: [72.0, 74.0] },
    { name: "Indian/Mauritius", latRange: [-20.0, -18.0], lonRange: [57.0, 64.0] },
    { name: "Indian/Mayotte", latRange: [-13.0, -12.0], lonRange: [45.0, 46.0] },
    { name: "Indian/Reunion", latRange: [-22.0, -21.0], lonRange: [55.0, 56.0] },

// Pacific
    { name: "Pacific/Apia", latRange: [-14.0, -13.0], lonRange: [-172.0, -169.0] },
    { name: "Pacific/Auckland", latRange: [-37.0, -34.0], lonRange: [174.0, 178.0] },
    { name: "Pacific/Chatham", latRange: [-44.0, -43.0], lonRange: [176.0, 179.0] },
    { name: "Pacific/Chuuk", latRange: [6.0, 10.0], lonRange: [150.0, 153.0] },
    { name: "Pacific/Easter", latRange: [-28.0, -26.0], lonRange: [-110.0, -108.0] },
    { name: "Pacific/Efate", latRange: [-17.0, -15.0], lonRange: [168.0, 171.0] },
    { name: "Pacific/Enderbury", latRange: [-4.0, -3.0], lonRange: [-180.0, -178.0] },
    { name: "Pacific/Fakaofo", latRange: [-9.0, -8.0], lonRange: [-171.0, -169.0] },
    { name: "Pacific/Fiji", latRange: [-20.0, -15.0], lonRange: [175.0, 178.0] },
    { name: "Pacific/Funafuti", latRange: [-8.0, -5.0], lonRange: [179.0, 180.0] },
    { name: "Pacific/Galapagos", latRange: [-1.0, -0.5], lonRange: [-92.5, -89.5] },
    { name: "Pacific/Gambier", latRange: [-24.0, -23.0], lonRange: [-135.0, -134.0] },
    { name: "Pacific/Guadalcanal", latRange: [-10.0, -8.0], lonRange: [155.0, 162.0] },
    { name: "Pacific/Guam", latRange: [12.0, 14.0], lonRange: [144.0, 146.0] },
    { name: "Pacific/Kiritimati", latRange: [1.0, 3.0], lonRange: [-157.0, -155.0] },
    { name: "Pacific/Kosrae", latRange: [5.0, 7.0], lonRange: [162.0, 165.0] },
    { name: "Pacific/Marquesas", latRange: [-10.5, -8.5], lonRange: [-141.0, -138.0] },
    { name: "Pacific/Nauru", latRange: [-1.0, 0.0], lonRange: [166.0, 167.0] },
    { name: "Pacific/Niue", latRange: [-19.0, -18.0], lonRange: [-169.0, -167.0] },
    { name: "Pacific/Norfolk", latRange: [-36.0, -34.0], lonRange: [168.0, 169.0] },
    { name: "Pacific/Noumea", latRange: [-23.0, -21.0], lonRange: [165.0, 167.0] },
    { name: "Pacific/Pago_Pago", latRange: [-15.0, -13.0], lonRange: [-170.0, -168.0] },
    { name: "Pacific/Palau", latRange: [6.0, 8.0], lonRange: [134.0, 136.0] },
    { name: "Pacific/Pitcairn", latRange: [-25.0, -24.0], lonRange: [-130.0, -128.0] },
    { name: "Pacific/Pohnpei", latRange: [5.0, 7.0], lonRange: [158.0, 160.0] },
    { name: "Pacific/Port_Moresby", latRange: [-10.0, -5.0], lonRange: [140.0, 150.0] },
    { name: "Pacific/Rarotonga", latRange: [-21.0, -19.0], lonRange: [-160.0, -158.0] },
    { name: "Pacific/Samoa", latRange: [-15.0, -13.0], lonRange: [-171.0, -169.0] },
    { name: "Pacific/Tahiti", latRange: [-17.0, -15.0], lonRange: [-150.0, -148.0] },
    { name: "Pacific/Tarawa", latRange: [0.0, 2.0], lonRange: [173.0, 175.0] },
    { name: "Pacific/Tongatapu", latRange: [-22.0, -20.0], lonRange: [-175.0, -172.0] },
    { name: "Pacific/Wake", latRange: [19.0, 20.0], lonRange: [166.0, 167.0] },
    { name: "Pacific/Wallis", latRange: [-13.0, -12.0], lonRange: [-176.0, -175.0] }

    ];

// Function to format the offset in +HH or -HH
function formatOffset(offset) {
    const hours = Math.floor(Math.abs(offset) / 60);
    return (offset >= 0 ? '+' : '-') + hours.toString().padStart(2, '0');
}

// Function to generate timezone data
function generateTimeZoneData() {
    const timezoneData = {};

    timeZoneNames.forEach(({ name, latRange, lonRange }) => {
        const now = moment.tz(name);
        const offsetInMinutes = now.utcOffset();
        const formattedOffset = formatOffset(offsetInMinutes); // Format offset

        timezoneData[name] = {
            offset: formattedOffset, // Current offset in +HH or -HH
            dst: now.isDST(), // Whether it's currently DST
            abbreviation: now.format('z'), // Timezone abbreviation
            currentTime: now.format(), // Current time in the timezone
            latRange: latRange, // Latitude range
            lonRange: lonRange // Longitude range
        };
    });

    // Write the data to a JSON file
    fs.writeFileSync('timezones.json', JSON.stringify(timezoneData, null, 2));
    console.log('Timezone data generated and saved to timezones.json');
}

// Function to check if we need to update the data
function scheduleDailyUpdate() {
    const now = new Date();
    const utcMidnight = new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate() + 1, 0, 0, 0));
    const timeUntilUpdate = utcMidnight - now;

    // Schedule the next update
    setTimeout(() => {
        generateTimeZoneData();
        scheduleDailyUpdate(); // Reschedule the next update
    }, timeUntilUpdate);
}

// Start the process
generateTimeZoneData(); // Initial data generation
scheduleDailyUpdate(); // Start the daily update schedule
